{"version":3,"sources":["src/basic.js"],"names":["users","document","readyState","initializeCode","addEventListener","submitDataButton","getElementById","emptyTableButton","userFormSubmit","resetUsers","username","email","address","admin","initializeUserTable","reloadUserTable","event","preventDefault","formData","FormData","isAdmin","get","newUser","files","length","image","URL","createObjectURL","userExisted","_iterator","_createForOfIteratorHelper","_step","s","n","done","user","value","key","err","e","f","push","_iterator2","_step2","addEntryToTable","userTable","newUserRow","createElement","newData","img","src","height","width","appendChild","innerHTML"],"mappings":"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","file":"basic.e0a4873a.js","sourceRoot":"..","sourcesContent":["let users = [];\r\n\r\nif (document.readyState !== \"loading\") {\r\n  initializeCode();\r\n} else {\r\n  document.addEventListener(\"DOMContentLoaded\", function () {\r\n    initializeCode();\r\n  });\r\n}\r\n\r\nfunction initializeCode() {\r\n  const submitDataButton = document.getElementById(\"submit-data\");\r\n  const emptyTableButton = document.getElementById(\"empty-table\");\r\n  submitDataButton.addEventListener(\"click\", userFormSubmit);\r\n  emptyTableButton.addEventListener(\"click\", resetUsers);\r\n  users = [\r\n    {\r\n      username: \"matti\",\r\n      email: \"matti@emt.fi\",\r\n      address: \"hehkatu 1\",\r\n      admin: \"X\",\r\n    },\r\n    {\r\n      username: \"make\",\r\n      email: \"make@emt.fi\",\r\n      address: \"hehkatu 2\",\r\n      admin: \"-\",\r\n    },\r\n    {\r\n      username: \"meira\",\r\n      email: \"meira@emt.fi\",\r\n      address: \"hehkatu 3\",\r\n      admin: \"X\",\r\n    },\r\n  ];\r\n  initializeUserTable();\r\n  reloadUserTable();\r\n}\r\n\r\nfunction userFormSubmit(event) {\r\n  event.preventDefault();\r\n  let formData = new FormData(document.getElementById(\"user-form\"));\r\n  let isAdmin;\r\n  if (formData.get(\"admin\") == null) {\r\n    isAdmin = \"-\";\r\n  } else {\r\n    isAdmin = \"X\";\r\n  }\r\n  let newUser;\r\n  if (document.getElementById(\"input-image\").files.length) {\r\n    newUser = {\r\n      username: formData.get(\"username\"),\r\n      email: formData.get(\"email\"),\r\n      address: formData.get(\"address\"),\r\n      admin: isAdmin,\r\n      image: URL.createObjectURL(\r\n        document.getElementById(\"input-image\").files[0]\r\n      ),\r\n    };\r\n  } else {\r\n    newUser = {\r\n      username: formData.get(\"username\"),\r\n      email: formData.get(\"email\"),\r\n      address: formData.get(\"address\"),\r\n      admin: isAdmin,\r\n    };\r\n  }\r\n\r\n  let userExisted = false;\r\n  for (const user of users) {\r\n    if (newUser[\"username\"] === user[\"username\"]) {\r\n      userExisted = true;\r\n      for (const key in newUser) {\r\n        user[key] = newUser[key];\r\n      }\r\n    }\r\n  }\r\n  if (userExisted === false) {\r\n    users.push(newUser);\r\n  }\r\n  reloadUserTable();\r\n}\r\n\r\nfunction reloadUserTable() {\r\n  initializeUserTable();\r\n  for (const newUser of users) {\r\n    addEntryToTable(newUser);\r\n  }\r\n}\r\n\r\nfunction resetUsers() {\r\n  users = [];\r\n  reloadUserTable();\r\n}\r\n\r\nfunction addEntryToTable(newUser) {\r\n  const userTable = document.getElementById(\"user-table\");\r\n  const newUserRow = document.createElement(\"tr\");\r\n  for (const key in newUser) {\r\n    if (key === \"image\") {\r\n      const newData = document.createElement(\"td\");\r\n      const img = document.createElement(\"img\");\r\n      img.src = newUser[\"image\"];\r\n      img.height = 64;\r\n      img.width = 64;\r\n      newUserRow.appendChild(newData.appendChild(img));\r\n    } else {\r\n      const newData = document.createElement(\"td\");\r\n      newData.innerHTML = newUser[key];\r\n      newUserRow.appendChild(newData);\r\n    }\r\n  }\r\n  userTable.appendChild(newUserRow);\r\n}\r\n\r\nfunction initializeUserTable() {\r\n  document.getElementById(\"user-table\").innerHTML = `\r\n<tr>\r\n  <th>Username</th>\r\n  <th>Email</th>\r\n  <th>Address</th>\r\n  <th>Admin</th>\r\n</tr>\r\n`;\r\n}\r\n"]}